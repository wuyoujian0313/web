/*!
 * moneyfield component
 * http://www.wadecn.com/
 * auth:xiedx@asiainfo.com
 * Copyright 2015, WADE
 */
!function(n,e,l){"use strict";if(n&&"undefined"==typeof n.MoneyField){Array.prototype.push,Array.prototype.splice;var i=l.createElement("input"),a="oninput"in i;i=null;"undefined"!=typeof n.hasTouch&&n.hasTouch;var t=function(e,i){var t=this;t.el=e&&1==e.nodeType?e:l.getElementById(e),t.el&&t.el.nodeType&&(t.id=n.attr(t.el,"id"))&&(i&&n.isObject(i)&&n.extend(t,i),n.attr(t.el,"x-wade-uicomponent")||n.attr(t.el,"x-wade-uicomponent","moneyfield"),t._init(),t.constructor.call(t))};t.prototype=n.extend(new n.UIComponent,{val:function(e){var i=this;if(e==undefined)return i.value;i.value=i.el.value=e},getDisabled:function(){return this.disabled},setDisabled:function(e){var i=this;i.disabled=!!e;var t=i.el.className?i.el.className:"";i.disabled?((" "+t+" ").indexOf(" e_dis ")<0&&(i.el.className=n.trim(t+" e_dis")),i.el.disabled=!0):(t=n.trim((" "+t+" ").replace(/ e_dis /gi," ")),i.el.className=t,i.el.disabled=!1)},destroy:function(){this.el=null},_init:function(){var t=this;"undefined"==typeof t.value&&(t.value=t.el.value);var l=new RegExp("^\\d{1,12}(?:\\.\\d{1,"+(t.decimalDigit?t.decimalDigit:2)+"})?$");a?n(t.el).bind("input",function(e){var i;if(this.value=(""+this.value).replace(/[^0-9\.]+/gi,""),""!=this.value){if(i=parseFloat(this.value),!l.test(i))return this.value=t.value,!1}else i="";return i!=undefined&&(t.value=i),!0}):(n(t.el).bind("keydown",function(e){return!t.disabled&&(!(e.shiftKey||e.altKey||e.ctrlKey)&&(47<e.keyCode&&e.keyCode<58||95<e.keyCode&&e.keyCode<106||8==e.keyCode||190==e.keyCode))}),n(t.el).bind("keyup",function(e){if(t.disabled)return!1;var i;if(""!=this.value){if(i=parseFloat(this.value),!l.test(i))return void(this.value=t.value)}else i="";i!=undefined&&(t.value=i)})),n(t.el).bind("blur",function(e){if(t.disabled)return!1;var i;""!=this.value&&(i=parseFloat(this.value)),i!=undefined&&(t.value=t.el.value=i)})}}),e.MoneyField=n.MoneyField=t}}(window.Wade,window,document);