/*!
 * scroller component
 * http://www.wadecn.com/
 * auth:xiedx@asiainfo.com
 * Copyright 2015, WADE
 */
!function(o,n,t){"use strict";if(o&&"undefined"==typeof o.Scroller){var l=Array.prototype.push,r=Array.prototype.splice,c=o.os.phone||!0===o.ratioPhone,s=[],e=function(e,l){var r=this;r.el=e&&1==e.nodeType?e:t.getElementById(e),r.el&&r.el.nodeType&&(r.id=o.attr(r.el,"id"))&&(l&&o.isObject(l)&&o.extend(r,l),o.attr(r.el,"x-wade-uicomponent")||o.attr(r.el,"x-wade-uicomponent","scroller"),r._init(),r.constructor.call(r))};e.prototype=o.extend(new o.UIComponent,{x:function(){this.scroller&&this.scroller.x},y:function(){this.scroller&&this.scroller.y},dirX:function(){this.scroller&&this.scroller.dirX},dirY:function(){this.scroller&&this.scroller.dirY},scrollerW:function(){this.scroller&&this.scroller.scrollerW},scrollerH:function(){this.scroller&&this.scroller.scrollerH},refresh:function(){this.scroller&&this.scroller.refresh()},scrollTo:function(e,l,r,o){this.scroller&&this.scroller.scrollTo(e,l,r,o)},scrollToElement:function(e,l){this.scroller&&this.scroller.scrollToElement(e,l)},scrollToPage:function(e,l,r){this.scroller&&this.scroller.scrollToPage(e,l,r)},destroy:function(){var e=this;e.scroller&&e.scroller.destroy(),e.scroller=null,e.el=null,r.call(s,o.inArray(e.id,s),1)},_init:function(){var e=this;o.inArray(e.id,s)<0&&l.call(s,e.id),setTimeout(function(){(c||o.os.pad)&&(e.el.style.overflow="hidden",e.scroller=new o.Scroll(e.el,{hScroll:"undefined"==typeof e.hScroll||e.hScroll,vScroll:"undefined"==typeof e.vScroll||e.vScroll,hScrollbar:"undefined"==typeof e.hScrollbar||e.hScrollbar,vScrollbar:"undefined"==typeof e.vScrollbar||e.vScrollbar,bounce:"undefined"==typeof e.bounce||e.bounce,momentum:"undefined"==typeof e.momentum||e.momentum,checkDOMChanges:"undefined"!=typeof e.checkDOMChanges&&e.checkDOMChanges,snap:"undefined"!=typeof e.snap&&e.snap,snapThreshold:"undefined"!=typeof e.snapThreshold?e.snapThreshold:1,onRefresh:function(){o.event.trigger({type:"refresh",context:this},null,e.el)},onScrollMove:function(){o.event.trigger({type:"scrollMove",context:this},null,e.el)},onScrollEnd:function(){o.event.trigger({type:"scrollEnd",context:this},null,e.el)}}))},0),o(function(){setTimeout(function(){e.refresh()},0)})}}),o.extend(e,{refresh:function(){if(0<s.length)for(var e,l=0,r=s.length;l<r;l++)n[e=s[l]]&&n[e].refresh()}}),n.Scroller=o.Scroller=e}}(window.Wade,window,document);