/*!
 * switch component
 * http://www.wadecn.com/
 * auth:xiedx@asiainfo.com
 * Copyright 2015, WADE
 */
!function(l,e,n){"use strict";if(l&&"undefined"==typeof l.Switch){var i=function(e,i){var t=this;t.el=e&&1==e.nodeType?e:n.getElementById(e),t.el&&t.el.nodeType&&(t.id=l.attr(t.el,"id"))&&(i&&l.isObject(i)&&l.extend(t,i),l.attr(t.el,"x-wade-uicomponent")||l.attr(t.el,"x-wade-uicomponent","switch"),t._init(),t.constructor.call(t))};i.prototype=l.extend(new l.UIComponent,{val:function(e){var i=this;if(undefined==e)return i.el.value;i.offValue&&i.offValue==e?(i.switchOn=!1,i.el.value=i.offValue,i._refreshStyle()):i.onValue&&i.onValue==e&&(i.switchOn=!0,i.el.value=i.onValue,i._refreshStyle())},getDisabled:function(){return this.disabled},setDisabled:function(e){var i=this;i.disabled=!!e,setTimeout(function(){var e=i.div.className?i.div.className:"";i.disabled?(" "+e+" ").indexOf(" e_dis ")<0&&(i.div.className=l.trim(e+" e_dis")):(e=l.trim((" "+e+" ").replace(/ e_dis /gi," ")),i.div.className=e)},0)},destroy:function(){this.div=null,this.el=null},_init:function(){var i=this;i.div=l(i.el).parent("div.e_switch:first")[0];var e=l.attr(i.div,"id");e||(e=i.id+"_div",l.attr(i.div,"id",e)),l.attr(i.el,"x-visible-element",e),setTimeout(function(){i._refreshStyle()},0),i.disabled&&i.setDisabled(!0),l(i.div).tap(function(e){i.disabled||(i.switchOn=!i.switchOn,i.el.value=i.switchOn?i.onValue:i.offValue,i._refreshStyle(),l.event.trigger({type:"change",originalEvent:e.originalEvent},null,i.el))})},_refreshStyle:function(){var e=this,i=e.div.className?e.div.className:"";e.disabled&&(" "+i+" ").indexOf(" e_dis ")<0&&(i=l.trim(i+" e_dis"),e.div.className=i),e.switchOn?(-1<(" "+i+" ").indexOf(" e_switch-off ")&&(i=l.trim((" "+i+" ").replace(/ e_switch-off /gi," "))),e.offColor&&(i=l.trim((" "+i+" ").replace(new RegExp(" e_switch-"+e.offColor+" ","ig")," "))),e.div.className="",e.div.className=l.trim(i+(e.onColor?" e_switch-"+e.onColor:""))):((" "+i+" ").indexOf(" e_switch-off ")<0&&(i+=" e_switch-off"),e.onColor&&(i=l.trim((" "+i+" ").replace(new RegExp(" e_switch-"+e.onColor+" ","ig")," "))),e.div.className="",e.div.className=l.trim(i+(e.offColor?" e_switch-"+e.offColor:"")))}}),e.Switch=l.Switch=i}}(window.Wade,window,document);