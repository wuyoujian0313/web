/*!
 * iScroll v4.2.5 ~ Copyright (c) 2012 Matteo Spinelli, http://cubiq.org
 * Released under MIT license, http://cubiq.org/license
 */
!function(o,l,d){"use strict";if(o&&"undefined"==typeof o.Scroll){var b=Math,r=d.createElement("div").style,n=function(){for(var o="t,webkitT,MozT,msT,OT".split(","),e=0,t=o.length;e<t;e++)if(o[e]+"ransform"in r)return o[e].substr(0,o[e].length-1);return!1}(),s=n?"-"+n.toLowerCase()+"-":"",f=P("transform"),i=P("transitionProperty"),g=P("transitionDuration"),a=P("transformOrigin"),c=P("transitionTimingFunction"),p=P("transitionDelay"),m=/android/gi.test(navigator.appVersion),h=/iphone|ipad/gi.test(navigator.appVersion),e=/hp-tablet/gi.test(navigator.appVersion),u=P("perspective")in r,x="undefined"!=typeof o.hasTouch?o.hasTouch:"ontouchstart"in l&&!e,S=!1!==n,y=P("transition")in r,v="onorientationchange"in l?"orientationchange":"resize",T=x?"touchstart":"mousedown",Y=x?"touchmove":"mousemove",X=x?"touchend":"mouseup",w=x?"touchcancel":"mouseup",_=function(){if(!1===n)return!1;return{"":"transitionend",webkit:"webkitTransitionEnd",Moz:"transitionend",O:"otransitionend",ms:"MSTransitionEnd"}[n]}(),z=l.requestAnimationFrame||l.webkitRequestAnimationFrame||l.mozRequestAnimationFrame||l.oRequestAnimationFrame||l.msRequestAnimationFrame||function(o){return setTimeout(o,1)},M=l.cancelRequestAnimationFrame||l.webkitCancelAnimationFrame||l.webkitCancelRequestAnimationFrame||l.mozCancelRequestAnimationFrame||l.oCancelRequestAnimationFrame||l.msCancelRequestAnimationFrame||clearTimeout,E=function(o,e){if(o&&o.nodeType){for(var t=0,r=o,l=!1;r&&r.nodeType&&r!=d.documentElement&&t<50;){if(1==r.nodeType&&"iscroll-wrapper"==r.getAttribute("x-wade-ui-tag")&&(void 0===e||"h"==e&&"true"==r.getAttribute("hScroll")||"v"==e&&"true"==r.getAttribute("vScroll"))){l=!0;break}r=r.parentNode,t++}return l?r:void 0}},D=u?" translateZ(0)":"",t=function(o,e){var t,r=this;for(t in r.wrapper="object"==typeof o?o:d.getElementById(o),r.wrapper.style.overflow="hidden",r.scroller=r.wrapper.children[0],r.wrapper&&r.wrapper.nodeType&&r.wrapper.setAttribute("x-wade-ui-tag","iscroll-wrapper"),r.options={hScroll:!0,vScroll:!0,x:0,y:0,bounce:!0,bounceLock:!1,momentum:!0,lockDirection:!0,useTransform:!0,useTransition:!1,topOffset:0,checkDOMChanges:!1,handleClick:!0,hScrollbar:!0,vScrollbar:!0,fixedScrollbar:m,hideScrollbar:h,fadeScrollbar:h&&u,scrollbarClass:"",zoom:!1,zoomMin:1,zoomMax:4,doubleTapZoom:2,wheelAction:"scroll",snap:!1,snapThreshold:1,onRefresh:null,onBeforeScrollStart:function(o){o.originalEvent&&(o=o.originalEvent);var e=o.target;e&&1==(e="tagName"in e?e:e.parentNode).nodeType&&e.nodeName&&"INPUT"!=e.nodeName&&"SELECT"!=e.nodeName&&"TEXTAREA"!=e.nodeName&&o.preventDefault()},onScrollStart:null,onBeforeScrollMove:null,onScrollMove:null,onBeforeScrollEnd:null,onScrollEnd:null,onTouchEnd:null,onPosition:null,onDestroy:null,onZoomStart:null,onZoom:null,onZoomEnd:null},e)r.options[t]=e[t];r.x=r.options.x,r.y=r.options.y,r.options.useTransform=S&&r.options.useTransform,r.options.hScrollbar=r.options.hScroll&&r.options.hScrollbar,r.options.vScrollbar=r.options.vScroll&&r.options.vScrollbar,r.options.zoom=r.options.useTransform&&r.options.zoom,r.options.useTransition=y&&r.options.useTransition,r.options.zoom&&m&&(D=""),r.scroller.style[i]=r.options.useTransform?s+"transform":"top left",r.scroller.style[g]="0",r.scroller.style[a]="0 0",r.options.useTransition&&(r.scroller.style[c]="cubic-bezier(0.33,0.66,0.66,1)"),r.options.useTransform?r.scroller.style[f]="translate("+r.x+"px,"+r.y+"px)"+D:r.scroller.style.cssText+=";position:absolute;top:"+r.y+"px;left:"+r.x+"px",r.options.useTransition&&(r.options.fixedScrollbar=!0),r.refresh(),r._bind(v,l),r._bind(T),x||"none"!=r.options.wheelAction&&(r._bind("DOMMouseScroll"),r._bind("mousewheel")),r.options.checkDOMChanges&&(r.checkDOMTime=setInterval(function(){r._checkDOMChanges()},500))};t.prototype={enabled:!0,x:0,y:0,steps:[],scale:1,currPageX:0,currPageY:0,pagesX:[],pagesY:[],aniTime:null,wheelZoomCount:0,handleEvent:function(o){var e=this;switch(o.type){case T:if(!x&&0!==o.button)return;e._start(o);break;case Y:e._move(o);break;case X:case w:e._end(o);break;case v:e._resize();break;case"DOMMouseScroll":case"mousewheel":e._wheel(o);break;case _:e._transitionEnd(o)}},_checkDOMChanges:function(){this.moved||this.zoomed||this.animating||this.scrollerW==this.scroller.offsetWidth*this.scale&&this.scrollerH==this.scroller.offsetHeight*this.scale||this.refresh()},_scrollbar:function(o){var e,t=this;t[o+"Scrollbar"]?(t[o+"ScrollbarWrapper"]||(e=d.createElement("div"),t.options.scrollbarClass?e.className=t.options.scrollbarClass+o.toUpperCase():e.style.cssText="position:absolute; z-index:100;"+("h"==o?"height:0.5em; bottom:0.07em; left:0.14em; right:"+(t.vScrollbar?"0.43":"0.14")+"em":"width:0.43em; bottom:"+(t.hScrollbar?"0.43":"0.14")+"em; top:0.14em; right:0.07em"),e.style.cssText+=";pointer-events:none;"+s+"transition-property:opacity;"+s+"transition-duration:"+(t.options.fadeScrollbar?"350ms":"0")+";overflow:hidden;opacity:"+(t.options.hideScrollbar?"0":"1"),t.wrapper.appendChild(e),t[o+"ScrollbarWrapper"]=e,e=d.createElement("div"),t.options.scrollbarClass||(e.style.cssText="position:absolute;z-index:100;background:rgba(0,0,0,0.2);"+s+"background-clip:padding-box;"+s+"box-sizing:border-box;"+("h"==o?"height:100%":"width:100%")+";"+s+"border-radius:0.21em; border-radius:0.21em"),e.style.cssText+=";pointer-events:none;"+s+"transition-property:"+s+"transform;"+s+"transition-timing-function:cubic-bezier(0.33,0.66,0.66,1);"+s+"transition-duration:0;"+s+"transform: translate(0,0)"+D,t.options.useTransition&&(e.style.cssText+=";"+s+"transition-timing-function:cubic-bezier(0.33,0.66,0.66,1)"),t[o+"ScrollbarWrapper"].appendChild(e),t[o+"ScrollbarIndicator"]=e),"h"==o?(t.hScrollbarSize=t.hScrollbarWrapper.clientWidth,t.hScrollbarIndicatorSize=b.max(b.round(t.hScrollbarSize*t.hScrollbarSize/t.scrollerW),8),t.hScrollbarIndicator.style.width=t.hScrollbarIndicatorSize+"px",t.hScrollbarMaxScroll=t.hScrollbarSize-t.hScrollbarIndicatorSize,t.hScrollbarProp=t.hScrollbarMaxScroll/t.maxScrollX):(t.vScrollbarSize=t.vScrollbarWrapper.clientHeight,t.vScrollbarIndicatorSize=b.max(b.round(t.vScrollbarSize*t.vScrollbarSize/t.scrollerH),8),t.vScrollbarIndicator.style.height=t.vScrollbarIndicatorSize+"px",t.vScrollbarMaxScroll=t.vScrollbarSize-t.vScrollbarIndicatorSize,t.vScrollbarProp=t.vScrollbarMaxScroll/t.maxScrollY),t._scrollbarPos(o,!0)):t[o+"ScrollbarWrapper"]&&(S&&(t[o+"ScrollbarIndicator"].style[f]=""),t[o+"ScrollbarWrapper"].parentNode.removeChild(t[o+"ScrollbarWrapper"]),t[o+"ScrollbarWrapper"]=null,t[o+"ScrollbarIndicator"]=null)},_resize:function(){var o=this;setTimeout(function(){o.refresh()},m?200:0)},_pos:function(o,e){this.zoomed||(o=this.hScroll?o:0,e=this.vScroll?e:0,this.options.useTransform?this.scroller.style[f]="translate("+o+"px,"+e+"px) scale("+this.scale+")"+D:(o=b.round(o),e=b.round(e),this.scroller.style.left=o+"px",this.scroller.style.top=e+"px"),this.x=o,this.y=e,this._scrollbarPos("h"),this._scrollbarPos("v"),this.options.onPosition&&this.options.onPosition.call(this,o,e,f,D))},_scrollbarPos:function(o,e){var t,r=this,l="h"==o?r.x:r.y;r[o+"Scrollbar"]&&((l=r[o+"ScrollbarProp"]*l)<0?(r.options.fixedScrollbar||((t=r[o+"ScrollbarIndicatorSize"]+b.round(3*l))<8&&(t=8),r[o+"ScrollbarIndicator"].style["h"==o?"width":"height"]=t+"px"),l=0):l>r[o+"ScrollbarMaxScroll"]&&(l=r.options.fixedScrollbar?r[o+"ScrollbarMaxScroll"]:((t=r[o+"ScrollbarIndicatorSize"]-b.round(3*(l-r[o+"ScrollbarMaxScroll"])))<8&&(t=8),r[o+"ScrollbarIndicator"].style["h"==o?"width":"height"]=t+"px",r[o+"ScrollbarMaxScroll"]+(r[o+"ScrollbarIndicatorSize"]-t))),r[o+"ScrollbarWrapper"].style[p]="0",r[o+"ScrollbarWrapper"].style.opacity=e&&r.options.hideScrollbar?"0":"1",r[o+"ScrollbarIndicator"].style[f]="translate("+("h"==o?l+"px,0)":"0,"+l+"px)")+D)},_start:function(o){var e,t,r,l,n,s=this,i=x?o.touches[0]:o;s.enabled&&(s.options.onBeforeScrollStart&&s.options.onBeforeScrollStart.call(s,o),(s.options.useTransition||s.options.zoom)&&s._transitionTime(0),s.moved=!1,s.animating=!1,s.zoomed=!1,s.distX=0,s.distY=0,s.absDistX=0,s.absDistY=0,s.dirX=0,s.dirY=0,s.options.zoom&&x&&1<o.touches.length&&(l=b.abs(o.touches[0].pageX-o.touches[1].pageX),n=b.abs(o.touches[0].pageY-o.touches[1].pageY),s.touchesDistStart=b.sqrt(l*l+n*n),s.originX=b.abs(o.touches[0].pageX+o.touches[1].pageX-2*s.wrapperOffsetLeft)/2-s.x,s.originY=b.abs(o.touches[0].pageY+o.touches[1].pageY-2*s.wrapperOffsetTop)/2-s.y,s.options.onZoomStart&&s.options.onZoomStart.call(s,o)),s.options.momentum&&(r=s.options.useTransform?(t=+((e=getComputedStyle(s.scroller,null)[f].replace(/[^0-9\-.,]/g,"").split(","))[12]||e[4]),+(e[13]||e[5])):(t=+getComputedStyle(s.scroller,null).left.replace(/[^0-9-]/g,""),+getComputedStyle(s.scroller,null).top.replace(/[^0-9-]/g,"")),t==s.x&&r==s.y||(s.options.useTransition?s._unbind(_):M(s.aniTime),s.steps=[],s._pos(t,r),s.options.onScrollEnd&&s.options.onScrollEnd.call(s))),s.absStartX=s.x,s.absStartY=s.y,s.startX=s.x,s.startY=s.y,s.pointX=i.pageX,s.pointY=i.pageY,s.startTime=o.timeStamp||Date.now(),s.options.onScrollStart&&s.options.onScrollStart.call(s,o),s._bind(Y,d),s._bind(X,d),s._bind(w,d))},_move:function(o){var e,t,r,l=this,n=x?o.touches[0]:o,s=n.pageX-l.pointX,i=n.pageY-l.pointY,a=l.x+s,c=l.y+i,p=o.timeStamp||Date.now();if(l.options.onBeforeScrollMove&&l.options.onBeforeScrollMove.call(l,o),l.options.zoom&&x&&1<o.touches.length)return e=b.abs(o.touches[0].pageX-o.touches[1].pageX),t=b.abs(o.touches[0].pageY-o.touches[1].pageY),l.touchesDist=b.sqrt(e*e+t*t),l.zoomed=!0,(r=1/l.touchesDistStart*l.touchesDist*this.scale)<l.options.zoomMin?r=.5*l.options.zoomMin*Math.pow(2,r/l.options.zoomMin):r>l.options.zoomMax&&(r=2*l.options.zoomMax*Math.pow(.5,l.options.zoomMax/r)),l.lastScale=r/this.scale,a=this.originX-this.originX*l.lastScale+this.x,c=this.originY-this.originY*l.lastScale+this.y,this.scroller.style[f]="translate("+a+"px,"+c+"px) scale("+r+")"+D,void(l.options.onZoom&&l.options.onZoom.call(l,o));if(l.pointX=n.pageX,l.pointY=n.pageY,(0<a||a<l.maxScrollX)&&(a=l.options.bounce?l.x+s/2:0<=a||0<=l.maxScrollX?0:l.maxScrollX),(c>l.minScrollY||c<l.maxScrollY)&&(c=l.options.bounce?l.y+i/2:c>=l.minScrollY||0<=l.maxScrollY?l.minScrollY:l.maxScrollY),l.distX+=s,l.distY+=i,l.absDistX=b.abs(l.distX),l.absDistY=b.abs(l.distY),!(l.absDistX<6&&l.absDistY<6)){l.options.lockDirection&&(l.absDistX>l.absDistY+5?(c=l.y,i=0):l.absDistY>l.absDistX+5&&(a=l.x,s=0));var m=E(o.target);m&&m.nodeType&&m!=l.wrapper&&("true"==m.getAttribute("hScroll")&&(a=l.x,s=0),"true"==m.getAttribute("vScroll")&&(c=l.y,i=0)),l.moved=!0,l._pos(a,c),l.dirX=0<s?-1:s<0?1:0,l.dirY=0<i?-1:i<0?1:0,300<p-l.startTime&&(l.startTime=p,l.startX=l.x,l.startY=l.y),l.options.onScrollMove&&l.options.onScrollMove.call(l,o)}},_end:function(o){if(!x||0===o.touches.length){var e,t,r,l,n,s,i,a=this,c=x?o.changedTouches[0]:o,p={dist:0,time:0},m={dist:0,time:0},h=(o.timeStamp||Date.now())-a.startTime,u=a.x,S=a.y;if(a._unbind(Y,d),a._unbind(X,d),a._unbind(w,d),a.options.onBeforeScrollEnd&&a.options.onBeforeScrollEnd.call(a,o),a.zoomed)return i=a.scale*a.lastScale,i=Math.max(a.options.zoomMin,i),i=Math.min(a.options.zoomMax,i),a.lastScale=i/a.scale,a.scale=i,a.x=a.originX-a.originX*a.lastScale+a.x,a.y=a.originY-a.originY*a.lastScale+a.y,a.scroller.style[g]="200ms",a.scroller.style[f]="translate("+a.x+"px,"+a.y+"px) scale("+a.scale+")"+D,a.zoomed=!1,a.refresh(),void(a.options.onZoomEnd&&a.options.onZoomEnd.call(a,o));if(!a.moved)return x&&(a.doubleTapTimer&&a.options.zoom?(clearTimeout(a.doubleTapTimer),a.doubleTapTimer=null,a.options.onZoomStart&&a.options.onZoomStart.call(a,o),a.zoom(a.pointX,a.pointY,1==a.scale?a.options.doubleTapZoom:1),a.options.onZoomEnd&&setTimeout(function(){a.options.onZoomEnd.call(a,o)},200)):this.options.handleClick&&(a.doubleTapTimer=setTimeout(function(){for(a.doubleTapTimer=null,e=c.target;1!=e.nodeType;)e=e.parentNode;"SELECT"!=e.tagName&&"INPUT"!=e.tagName&&"TEXTAREA"!=e.tagName&&((t=d.createEvent("MouseEvents")).initMouseEvent("click",!0,!0,o.view,1,c.screenX,c.screenY,c.clientX,c.clientY,o.ctrlKey,o.altKey,o.shiftKey,o.metaKey,0,null),t._fake=!0,e.dispatchEvent(t))},a.options.zoom?250:0))),a._resetPos(400),void(a.options.onTouchEnd&&a.options.onTouchEnd.call(a,o));if(h<300&&a.options.momentum&&(p=u?a._momentum(u-a.startX,h,-a.x,a.scrollerW-a.wrapperW+a.x,a.options.bounce?a.wrapperW:0):p,m=S?a._momentum(S-a.startY,h,-a.y,a.maxScrollY<0?a.scrollerH-a.wrapperH+a.y-a.minScrollY:0,a.options.bounce?a.wrapperH:0):m,u=a.x+p.dist,S=a.y+m.dist,(0<a.x&&0<u||a.x<a.maxScrollX&&u<a.maxScrollX)&&(p={dist:0,time:0}),(a.y>a.minScrollY&&S>a.minScrollY||a.y<a.maxScrollY&&S<a.maxScrollY)&&(m={dist:0,time:0})),p.dist||m.dist)return n=b.max(b.max(p.time,m.time),10),a.options.snap&&(r=u-a.absStartX,l=S-a.absStartY,b.abs(r)<a.options.snapThreshold&&b.abs(l)<a.options.snapThreshold?a.scrollTo(a.absStartX,a.absStartY,200):(u=(s=a._snap(u,S)).x,S=s.y,n=b.max(s.time,n))),a.scrollTo(b.round(u),b.round(S),n),void(a.options.onTouchEnd&&a.options.onTouchEnd.call(a,o));if(a.options.snap)return r=u-a.absStartX,l=S-a.absStartY,b.abs(r)<a.options.snapThreshold&&b.abs(l)<a.options.snapThreshold?a.scrollTo(a.absStartX,a.absStartY,200):(s=a._snap(a.x,a.y)).x==a.x&&s.y==a.y||a.scrollTo(s.x,s.y,s.time),void(a.options.onTouchEnd&&a.options.onTouchEnd.call(a,o));a._resetPos(200),a.options.onTouchEnd&&a.options.onTouchEnd.call(a,o)}},_resetPos:function(o){var e=this,t=0<=e.x?0:e.x<e.maxScrollX?e.maxScrollX:e.x,r=e.y>=e.minScrollY||0<e.maxScrollY?e.minScrollY:e.y<e.maxScrollY?e.maxScrollY:e.y;if(t==e.x&&r==e.y)return e.moved&&(e.moved=!1,e.options.onScrollEnd&&e.options.onScrollEnd.call(e)),e.hScrollbar&&e.options.hideScrollbar&&("webkit"==n&&(e.hScrollbarWrapper.style[p]="300ms"),e.hScrollbarWrapper.style.opacity="0"),void(e.vScrollbar&&e.options.hideScrollbar&&("webkit"==n&&(e.vScrollbarWrapper.style[p]="300ms"),e.vScrollbarWrapper.style.opacity="0"));e.scrollTo(t,r,o||0)},_wheel:function(o){var e,t,r,l,n,s=this;if("wheelDeltaX"in o)e=o.wheelDeltaX,t=o.wheelDeltaY;else if("wheelDelta"in o)e=t=o.wheelDelta;else{if(!("detail"in o))return;e=t=3*-o.detail}if("zoom"==s.options.wheelAction)return(n=s.scale*Math.pow(2,1/3*(t?t/Math.abs(t):0)))<s.options.zoomMin&&(n=s.options.zoomMin),n>s.options.zoomMax&&(n=s.options.zoomMax),void(n!=s.scale&&(!s.wheelZoomCount&&s.options.onZoomStart&&s.options.onZoomStart.call(s,o),s.wheelZoomCount++,s.zoom(o.pageX,o.pageY,n,400),setTimeout(function(){s.wheelZoomCount--,!s.wheelZoomCount&&s.options.onZoomEnd&&s.options.onZoomEnd.call(s,o)},400)));r=s.x+e,l=s.y+t,0<r?r=0:r<s.maxScrollX&&(r=s.maxScrollX),l>s.minScrollY?l=s.minScrollY:l<s.maxScrollY&&(l=s.maxScrollY),s.maxScrollY<0&&s.scrollTo(s.x,l,0)},_transitionEnd:function(o){o.target==this.scroller&&(this._unbind(_),this._startAni())},_startAni:function(){var r,l,n,s=this,i=s.x,a=s.y,c=Date.now();if(!s.animating)if(s.steps.length){if((r=s.steps.shift()).x==i&&r.y==a&&(r.time=0),s.animating=!0,s.moved=!0,s.options.useTransition)return s._transitionTime(r.time),s._pos(r.x,r.y),s.animating=!1,void(r.time?s._bind(_):s._resetPos(0));(n=function(){var o,e,t=Date.now();if(t>=c+r.time)return s._pos(r.x,r.y),s.animating=!1,s.options.onAnimationEnd&&s.options.onAnimationEnd.call(s),void s._startAni();t=(t-c)/r.time-1,l=b.sqrt(1-t*t),o=(r.x-i)*l+i,e=(r.y-a)*l+a,s._pos(o,e),s.animating&&(s.aniTime=z(n))})()}else s._resetPos(400)},_transitionTime:function(o){o+="ms",this.scroller.style[g]=o,this.hScrollbar&&(this.hScrollbarIndicator.style[g]=o),this.vScrollbar&&(this.vScrollbarIndicator.style[g]=o)},_momentum:function(o,e,t,r,l){var n,s=b.abs(o)/e,i=s*s/.0012;return 0<o&&t<i?(s=s*(t+=l/(6/(i/s*6e-4)))/i,i=t):o<0&&r<i&&(s=s*(r+=l/(6/(i/s*6e-4)))/i,i=r),n=s/6e-4,{dist:i*=o<0?-1:1,time:b.round(n)}},_offset:function(o){for(var e=-o.offsetLeft,t=-o.offsetTop;o=o.offsetParent;)e-=o.offsetLeft,t-=o.offsetTop;return o!=this.wrapper&&(e*=this.scale,t*=this.scale),{left:e,top:t}},_snap:function(o,e){var t,r,l,n,s,i=this;for(l=i.pagesX.length-1,t=0,r=i.pagesX.length;t<r;t++)if(o>=i.pagesX[t]){l=t;break}for(l==i.currPageX&&0<l&&i.dirX<0&&l--,o=i.pagesX[l],n=(n=b.abs(o-i.pagesX[i.currPageX]))?b.abs(i.x-o)/n*500:0,i.currPageX=l,l=i.pagesY.length-1,t=0;t<l;t++)if(e>=i.pagesY[t]){l=t;break}return l==i.currPageY&&0<l&&i.dirY<0&&l--,e=i.pagesY[l],s=(s=b.abs(e-i.pagesY[i.currPageY]))?b.abs(i.y-e)/s*500:0,i.currPageY=l,{x:o,y:e,time:b.round(b.max(n,s))||200}},_bind:function(o,e,t){(e||this.scroller).addEventListener(o,this,!!t)},_unbind:function(o,e,t){(e||this.scroller).removeEventListener(o,this,!!t)},destroy:function(){var o=this;o.scroller.style[f]="",o.hScrollbar=!1,o.vScrollbar=!1,o._scrollbar("h"),o._scrollbar("v"),o._unbind(v,l),o._unbind(T),o._unbind(Y,d),o._unbind(X,d),o._unbind(w,d),o.options.hasTouch||(o._unbind("DOMMouseScroll"),o._unbind("mousewheel")),o.options.useTransition&&o._unbind(_),o.options.checkDOMChanges&&clearInterval(o.checkDOMTime),o.options.onDestroy&&o.options.onDestroy.call(o)},refresh:function(){var o,e,t,r,l=this,n=0,s=0;if(l.scale<l.options.zoomMin&&(l.scale=l.options.zoomMin),l.wrapperW=l.wrapper.clientWidth||1,l.wrapperH=l.wrapper.clientHeight||1,l.minScrollY=-l.options.topOffset||0,l.scrollerW=b.round(l.scroller.offsetWidth*l.scale),l.scrollerH=b.round((l.scroller.offsetHeight+l.minScrollY)*l.scale),l.maxScrollX=l.wrapperW-l.scrollerW,l.maxScrollY=l.wrapperH-l.scrollerH+l.minScrollY,l.dirX=0,l.dirY=0,l.options.onRefresh&&l.options.onRefresh.call(l),l.hScroll=l.options.hScroll&&l.maxScrollX<0,l.vScroll=l.options.vScroll&&l.scrollerH>l.wrapperH,l.hScrollbar=l.hScroll&&l.options.hScrollbar,l.vScrollbar=l.vScroll&&l.options.vScrollbar&&l.scrollerH>l.wrapperH,o=l._offset(l.wrapper),l.wrapperOffsetLeft=-o.left,l.wrapperOffsetTop=-o.top,l.wrapper.setAttribute("hScroll",l.hScroll),l.wrapper.setAttribute("vScroll",l.vScroll),"string"==typeof l.options.snap)for(l.pagesX=[],l.pagesY=[],e=0,t=(r=l.scroller.querySelectorAll(l.options.snap)).length;e<t;e++)(n=l._offset(r[e])).left+=l.wrapperOffsetLeft,n.top+=l.wrapperOffsetTop,l.pagesX[e]=n.left<l.maxScrollX?l.maxScrollX:n.left*l.scale,l.pagesY[e]=n.top<l.maxScrollY?l.maxScrollY:n.top*l.scale;else if(l.options.snap){for(l.pagesX=[];n>=l.maxScrollX;)l.pagesX[s]=n,n-=l.wrapperW,s++;for(l.maxScrollX%l.wrapperW&&(l.pagesX[l.pagesX.length]=l.maxScrollX-l.pagesX[l.pagesX.length-1]+l.pagesX[l.pagesX.length-1]),s=n=0,l.pagesY=[];n>=l.maxScrollY;)l.pagesY[s]=n,n-=l.wrapperH,s++;l.maxScrollY%l.wrapperH&&(l.pagesY[l.pagesY.length]=l.maxScrollY-l.pagesY[l.pagesY.length-1]+l.pagesY[l.pagesY.length-1])}l._scrollbar("h"),l._scrollbar("v"),l.zoomed||(l.scroller.style[g]="0",l._resetPos(400))},scrollTo:function(o,e,t,r){var l,n,s=this,i=o;for(s.stop(),i.length||(i=[{x:o,y:e,time:t,relative:r}]),l=0,n=i.length;l<n;l++)i[l].relative&&(i[l].x=s.x-i[l].x,i[l].y=s.y-i[l].y),s.steps.push({x:i[l].x,y:i[l].y,time:i[l].time||0});s._startAni()},scrollToElement:function(o,e){var t,r=this;(o=o.nodeType?o:r.scroller.querySelector(o))&&((t=r._offset(o)).left+=r.wrapperOffsetLeft,t.top+=r.wrapperOffsetTop,t.left=0<t.left?0:t.left<r.maxScrollX?r.maxScrollX:t.left,t.top=t.top>r.minScrollY?r.minScrollY:t.top<r.maxScrollY?r.maxScrollY:t.top,e=e===undefined?b.max(2*b.abs(t.left),2*b.abs(t.top)):e,r.scrollTo(t.left,t.top,e))},scrollToPage:function(o,e,t){var r,l,n=this;t=t===undefined?400:t,n.options.onScrollStart&&n.options.onScrollStart.call(n),n.options.snap?(o="next"==o?n.currPageX+1:"prev"==o?n.currPageX-1:o,e="next"==e?n.currPageY+1:"prev"==e?n.currPageY-1:e,o=o<0?0:o>n.pagesX.length-1?n.pagesX.length-1:o,e=e<0?0:e>n.pagesY.length-1?n.pagesY.length-1:e,n.currPageX=o,n.currPageY=e,r=n.pagesX[o],l=n.pagesY[e]):(r=-n.wrapperW*o,l=-n.wrapperH*e,r<n.maxScrollX&&(r=n.maxScrollX),l<n.maxScrollY&&(l=n.maxScrollY)),n.scrollTo(r,l,t)},disable:function(){this.stop(),this._resetPos(0),this.enabled=!1,this._unbind(Y,d),this._unbind(X,d),this._unbind(w,d)},enable:function(){this.enabled=!0},stop:function(){this.options.useTransition?this._unbind(_):M(this.aniTime),this.steps=[],this.moved=!1,this.animating=!1},zoom:function(o,e,t,r){var l=this,n=t/l.scale;l.options.useTransform&&(l.zoomed=!0,r=r===undefined?200:r,o=o-l.wrapperOffsetLeft-l.x,e=e-l.wrapperOffsetTop-l.y,l.x=o-o*n+l.x,l.y=e-e*n+l.y,l.scale=t,l.refresh(),l.x=0<l.x?0:l.x<l.maxScrollX?l.maxScrollX:l.x,l.y=l.y>l.minScrollY?l.minScrollY:l.y<l.maxScrollY?l.maxScrollY:l.y,l.scroller.style[g]=r+"ms",l.scroller.style[f]="translate("+l.x+"px,"+l.y+"px) scale("+t+")"+D,l.zoomed=!1)},isReady:function(){return!this.moved&&!this.zoomed&&!this.animating}},r=null,t.parentWrapper=E,l.Scroll=o.Scroll=t}function P(o){return""===n?o:(o=o.charAt(0).toUpperCase()+o.substr(1),n+o)}}(window.Wade,window,document);